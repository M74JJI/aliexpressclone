{"version":3,"sources":["components/cards/ShowPaymentInfo.js","components/order/Invoice.js","pages/user/History.js","components/nav/UserNav.js"],"names":["ShowPaymentInfo","order","showStatus","className","paymentIntent","id","amount","toLocaleString","style","currency","toUpperCase","payment_method_types","status","Date","created","orderStatus","styles","StyleSheet","create","body","paddingTop","paddingBottom","paddingHorizontal","title","fontSize","textAlign","author","marginBottom","subtitle","margin","text","image","marginVertical","marginHorizontal","header","color","footer","padding","pageNumber","position","bottom","left","right","Invoice","fixed","data","products","getContent","x","product","price","count","brand","History","location","useState","orders","setOrders","user","useSelector","state","setIsUserPage","isCurrentPage","pathname","useEffect","loadUserOrders","window","href","getUserOrders","token","then","res","console","log","JSON","stringify","TopHeader","Header","to","reverse","map","i","key","width","scope","p","substring","shipping","CheckCircleOutlined","CloseCircleOutlined","showOrderInTable","document","fileName","showDownloadLink"],"mappings":"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","file":"static/js/15.d22fb2d7.chunk.js","sourcesContent":["import React from 'react';\nimport '../../styles/userOrders.css';\nconst ShowPaymentInfo = ({ order, showStatus = true }) => (\n    <div className=\"Payment-Info\">\n        <p>\n            <span>Order ID:</span>\n            <span> {order.paymentIntent.id}</span>\n            <br />\n            <span>Amount:{'  '}</span>\n            <span>\n                {(order.paymentIntent.amount /= 100).toLocaleString('en-US', {\n                    style: 'currency',\n                    currency: 'USD',\n                })}\n            </span>\n            <br />\n            <span>Currency: </span>\n            <span>{order.paymentIntent.currency.toUpperCase()}</span>\n            <br />\n            <span>Payment Method: </span>\n            <span>{order.paymentIntent.payment_method_types[0]}</span>\n            <br />\n            <span>Payment: </span>\n            <span>{order.paymentIntent.status.toUpperCase()}</span>\n            {',  '}\n            <span>\n                Orderd on: {'  '}\n                {new Date(order.paymentIntent.created * 1000).toLocaleString()}\n            </span>\n            {',  '}\n            <br />\n            {showStatus && (\n                <span className=\"badge bg-primary text-white status-span\">\n                    STATUS: {order.orderStatus}\n                </span>\n            )}\n        </p>\n    </div>\n);\n\nexport default ShowPaymentInfo;\n","import React from \"react\";\nimport { Document, Page, Text, StyleSheet } from \"@react-pdf/renderer\";\nimport {\n  Table,\n  TableHeader,\n  TableCell,\n  TableBody,\n  DataTableCell,\n} from \"@david.kucsai/react-pdf-table\";\n\nconst Invoice = ({ order }) => (\n  <Document>\n    <Page style={styles.body}>\n      <Text style={styles.header} fixed>\n        ~ {new Date().toLocaleString()} ~\n      </Text>\n      <Text style={styles.title}>Order Invoice</Text>\n      <Text style={styles.author}>React Redux Ecommerce</Text>\n      <Text style={styles.subtitle}>Order Summary</Text>\n\n      <Table>\n        <TableHeader>\n          <TableCell>Title</TableCell>\n          <TableCell>Price</TableCell>\n          <TableCell>Quantity</TableCell>\n          <TableCell>Brand</TableCell>\n          <TableCell>Color</TableCell>\n        </TableHeader>\n      </Table>\n\n      <Table data={order.products}>\n        <TableBody>\n          <DataTableCell getContent={(x) => x.product.title} />\n          <DataTableCell getContent={(x) => `$${x.product.price}`} />\n          <DataTableCell getContent={(x) => x.count} />\n          <DataTableCell getContent={(x) => x.product.brand} />\n          <DataTableCell getContent={(x) => x.product.color} />\n        </TableBody>\n      </Table>\n\n      <Text style={styles.text}>\n        <Text>\n          Date: {\"               \"}\n          {new Date(order.paymentIntent.created * 1000).toLocaleString()}\n        </Text>\n        {\"\\n\"}\n        <Text>\n          Order Id: {\"         \"}\n          {order.paymentIntent.id}\n        </Text>\n        {\"\\n\"}\n        <Text>\n          Order Status: {\"  \"}\n          {order.orderStatus}\n        </Text>\n        {\"\\n\"}\n        <Text>\n          Total Paid: {\"       \"}\n          {order.paymentIntent.amount}\n        </Text>\n      </Text>\n\n      <Text style={styles.footer}> ~ Thank you for shopping with us ~ </Text>\n    </Page>\n  </Document>\n);\n\nconst styles = StyleSheet.create({\n  body: {\n    paddingTop: 35,\n    paddingBottom: 65,\n    paddingHorizontal: 35,\n  },\n  title: {\n    fontSize: 24,\n    textAlign: \"center\",\n  },\n  author: {\n    fontSize: 12,\n    textAlign: \"center\",\n    marginBottom: 40,\n  },\n  subtitle: {\n    fontSize: 18,\n    margin: 12,\n  },\n  text: {\n    margin: 12,\n    fontSize: 14,\n    textAlign: \"justify\",\n  },\n  image: {\n    marginVertical: 15,\n    marginHorizontal: 100,\n  },\n  header: {\n    fontSize: 12,\n    marginBottom: 20,\n    textAlign: \"center\",\n    color: \"grey\",\n  },\n  footer: {\n    padding: \"100px\",\n    fontSize: 12,\n    marginBottom: 20,\n    textAlign: \"center\",\n    color: \"grey\",\n  },\n  pageNumber: {\n    position: \"absolute\",\n    fontSize: 12,\n    bottom: 30,\n    left: 0,\n    right: 0,\n    textAlign: \"center\",\n    color: \"grey\",\n  },\n});\n\nexport default Invoice;\n","import React, { useState, useEffect, useRef } from 'react';\nimport UserNav from '../../components/nav/UserNav';\nimport { getUserOrders } from '../../functions/user';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { CheckCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\nimport { toast } from 'react-toastify';\nimport { Link } from 'react-router-dom';\nimport ShowPaymentInfo from '../../components/cards/ShowPaymentInfo';\nimport { PDFDownloadLink } from '@react-pdf/renderer';\nimport Invoice from '../../components/order/Invoice';\nimport Header from '../../components/nav/header/Header';\nimport TopHeader from '../../components/nav/topheader/TopHeader';\nimport '../../styles/userOrders.css';\nconst History = ({ location }) => {\n    const [orders, setOrders] = useState([]);\n    const { user } = useSelector((state) => ({ ...state }));\n    const [isUserPgae, setIsUserPage] = useState(false);\n    const isCurrentPage = location.pathname;\n\n    useEffect(() => {\n        loadUserOrders();\n        if (window.location.href == 'http://localhost:3000/user/orders') {\n            setIsUserPage(true);\n        }\n    }, []);\n\n    const loadUserOrders = () =>\n        getUserOrders(user.token).then((res) => {\n            console.log(JSON.stringify(res.data, null, 4));\n            setOrders(res.data);\n        });\n\n    const showOrderInTable = (order) => (\n        <table className=\"table table-bordered\" style={{ width: '800px' }}>\n            <thead className=\"thead\">\n                <tr>\n                    <th scope=\"col\">Title</th>\n                    <th scope=\"col\">Price</th>\n                    <th scope=\"col\">Brand</th>\n                    <th scope=\"col\">Color</th>\n                    <th scope=\"col\">Quantity</th>\n                    <th scope=\"col\">Shipping</th>\n                </tr>\n            </thead>\n\n            <tbody>\n                {order.products.map((p, i) => (\n                    <tr key={i}>\n                        <td>\n                            <b>{p.product.title.substring(0, 50)}</b>\n                        </td>\n                        <td>{p.product.price}</td>\n                        <td>{p.product.brand}</td>\n                        <td>{p.color}</td>\n                        <td>{p.count}</td>\n                        <td>\n                            {p.product.shipping === 'Yes' ? (\n                                <CheckCircleOutlined\n                                    style={{ color: 'green' }}\n                                />\n                            ) : (\n                                <CloseCircleOutlined style={{ color: 'red' }} />\n                            )}\n                        </td>\n                    </tr>\n                ))}\n            </tbody>\n        </table>\n    );\n\n    const showDownloadLink = (order) => (\n        <PDFDownloadLink\n            document={<Invoice order={order} />}\n            fileName=\"receipt.pdf\"\n            className=\"btn-pdf\"\n        >\n            Download Receipt\n        </PDFDownloadLink>\n    );\n\n    const showEachOrders = () =>\n        orders.reverse().map((order, i) => (\n            <div key={i} className=\"m-5 p-3 card\">\n                <ShowPaymentInfo order={order} />\n                {showOrderInTable(order)}\n                <div className=\"row\">\n                    <div className=\"col\">{showDownloadLink(order)}</div>\n                </div>\n            </div>\n        ));\n\n    return (\n        <>\n            <TopHeader />\n            <Header />\n            <div className=\"userOrders\">\n                <div className=\"userOrders-container\">\n                    <div className=\"userNav-menu\">\n                        <h5>Orders</h5>\n                        <Link\n                            to=\"/user/orders\"\n                            className={isCurrentPage && 'selected-nav'}\n                        >\n                            All orders\n                        </Link>\n                        <Link to=\"/user/wishlist\">Wishlist</Link>\n                        <Link>Deleted & Orders</Link>\n                        <Link>Manage Feedback</Link>\n                        <Link to=\"/user/password\">Change Password</Link>\n                        <Link>My Coupons</Link>\n                        <Link>My Select Coupon</Link>\n                        <Link>Shipping Address</Link>\n                    </div>\n                    <div className=\"userOrders-form\">\n                        <h5>Orders</h5>\n                        {showEachOrders()}\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default History;\n{\n    /*  \n <div className=\"row\">\n                <div className=\"col-md-2\">\n                    <UserNav />\n                </div>\n                <div className=\"col text-center\">\n                    <h4>\n                        {orders.length > 0\n                            ? 'User purchase orders'\n                            : 'No purchase orders'}\n                    </h4>\n                    {showEachOrders()}\n                </div>\n            </div>\n\n*/\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst UserNav = () => (\n  <nav>\n    <ul className=\"nav flex-column\">\n      <li className=\"nav-item\">\n        <Link to=\"/user/history\" className=\"nav-link\">\n          History\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/user/password\" className=\"nav-link\">\n          Password\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/user/wishlist\" className=\"nav-link\">\n          Wishlist\n        </Link>\n      </li>\n    </ul>\n  </nav>\n);\n\nexport default UserNav;\n"],"sourceRoot":""}