(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[40],{1125:function(e,t,a){"use strict";a.r(t);var c=a(79),n=a(12),s=a(5),r=a(1),o=a.n(r),l=a(110),u=a(16),i=a(10),b=a(20),d=a(30),O=a(99),g=a(429),j=a(206),m={title:"",description:"",price:"",category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""};t.default=function(e){var t=e.match,a=e.history,f=Object(r.useState)(m),h=Object(s.a)(f,2),p=h[0],v=h[1],E=Object(r.useState)([]),S=Object(s.a)(E,2),y=S[0],C=S[1],N=Object(r.useState)([]),A=Object(s.a)(N,2),T=A[0],I=A[1],R=Object(r.useState)([]),G=Object(s.a)(R,2),D=G[0],k=G[1],w=Object(r.useState)(""),B=Object(s.a)(w,2),L=B[0],P=B[1],U=Object(r.useState)(!1),Y=Object(s.a)(U,2),_=Y[0],J=Y[1],K=Object(i.c)((function(e){return Object(n.a)({},e)})).user,V=t.params.slug;Object(r.useEffect)((function(){q(),x()}),[]);var q=function(){Object(b.c)(V).then((function(e){v(Object(n.a)(Object(n.a)({},p),e.data)),Object(d.d)(e.data.category._id).then((function(e){I(e.data)}));var t=[];e.data.subs.map((function(e){t.push(e._id)})),console.log("ARR",t),k((function(e){return t}))}))},x=function(){return Object(d.b)().then((function(e){console.log("GET CATEGORIES IN UPDATE PRODUCT",e.data),C(e.data)}))};return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-2"},o.a.createElement(l.a,null)),o.a.createElement("div",{className:"col-md-10"},_?o.a.createElement(g.a,{className:"text-danger h1"}):o.a.createElement("h4",null,"Product update"),o.a.createElement("div",{className:"p-3"},o.a.createElement(O.a,{values:p,setValues:v,setLoading:J})),o.a.createElement(j.a,{handleSubmit:function(e){e.preventDefault(),J(!0),p.subs=D,p.category=L||p.category,Object(b.l)(V,p,K.token).then((function(e){J(!1),u.b.success('"'.concat(e.data.title,'" is updated')),a.push("/admin/products")})).catch((function(e){console.log(e),J(!1),u.b.error(e.response.data.err)}))},handleChange:function(e){v(Object(n.a)(Object(n.a)({},p),{},Object(c.a)({},e.target.name,e.target.value)))},setValues:v,values:p,handleCategoryChange:function(e){e.preventDefault(),console.log("CLICKED CATEGORY",e.target.value),v(Object(n.a)(Object(n.a)({},p),{},{subs:[]})),P(e.target.value),Object(d.d)(e.target.value).then((function(e){console.log("SUB OPTIONS ON CATGORY CLICK",e),I(e.data)})),console.log("EXISTING CATEGORY values.category",p.category),p.category._id===e.target.value&&q(),k([])},categories:y,subOptions:T,arrayOfSubs:D,setArrayOfSubs:k,selectedCategory:L}),o.a.createElement("hr",null))))}}}]);
//# sourceMappingURL=40.b6fd2d7d.chunk.js.map