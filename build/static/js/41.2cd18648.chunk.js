(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[41],{1121:function(e,t,a){"use strict";a.r(t);var n=a(8),c=a.n(n),r=a(15),s=a(5),l=a(12),o=a(1),u=a.n(o),i=a(110),m=a(16),b=a(10),f=a(30),d=a(149),p=a(2),E=a(430),j=a(431),O=a(97),h=a(150);t.default=function(){var e=Object(b.c)((function(e){return Object(l.a)({},e)})).user,t=Object(o.useState)(""),a=Object(s.a)(t,2),n=a[0],g=a[1],v=Object(o.useState)(!1),N=Object(s.a)(v,2),w=N[0],k=N[1],y=Object(o.useState)([]),S=Object(s.a)(y,2),x=S[0],C=S[1],_=Object(o.useState)(""),D=Object(s.a)(_,2),J=D[0],L=D[1],P=Object(o.useState)([]),K=Object(s.a)(P,2),q=K[0],z=K[1],A=Object(o.useState)(""),B=Object(s.a)(A,2),F=B[0],G=B[1];Object(o.useEffect)((function(){H(),I()}),[]);var H=function(){return Object(f.b)().then((function(e){return C(e.data)}))},I=function(){return Object(d.c)().then((function(e){return z(e.data)}))},M=function(){var t=Object(r.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.confirm("Delete?")&&(k(!0),Object(d.d)(a,e.token).then((function(e){k(!1),m.b.error("".concat(e.data.name," deleted")),I()})).catch((function(e){400===e.response.status&&(k(!1),m.b.error(e.response.data))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-md-2"},u.a.createElement(i.a,null)),u.a.createElement("div",{className:"col"},w?u.a.createElement("h4",{className:"text-danger"},"Loading.."):u.a.createElement("h4",null,"Create sub category"),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",null,"Parent category"),u.a.createElement("select",{name:"category",className:"form-control",onChange:function(e){return L(e.target.value)}},u.a.createElement("option",null,"Please select"),x.length>0&&x.map((function(e){return u.a.createElement("option",{key:e._id,value:e._id},e.name)})))),u.a.createElement(O.a,{handleSubmit:function(t){t.preventDefault(),k(!0),Object(d.a)({name:n,parent:J},e.token).then((function(e){k(!1),g(""),m.b.success('"'.concat(e.data.name,'" is created')),I()})).catch((function(e){console.log(e),k(!1),400===e.response.status&&m.b.error(e.response.data)}))},name:n,setName:g}),u.a.createElement(h.a,{keyword:F,setKeyword:G}),q.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(F)).map((function(e){return u.a.createElement("div",{className:"alert alert-secondary",key:e._id},e.name,u.a.createElement("span",{onClick:function(){return M(e.slug)},className:"btn btn-sm float-right"},u.a.createElement(E.a,{className:"text-danger"})),u.a.createElement(p.b,{to:"/admin/sub/".concat(e.slug)},u.a.createElement("span",{className:"btn btn-sm float-right"},u.a.createElement(j.a,{className:"text-warning"}))))})))))}}}]);
//# sourceMappingURL=41.2cd18648.chunk.js.map