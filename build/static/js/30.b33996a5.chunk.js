(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[30],{1147:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=(a(58),a(59),a(60),a(61),a(28)),o=(a(66),a(67),a(29)),l=(a(68),a(10)),s=a(8),u=a.n(s),m=a(15),i=a(5),d=a(12),b=(a(110),a(16)),f=a(30),E=a(149),h=a(2),j=a(430),p=a(431),O=a(97),g=a(150),v=function(){var e=Object(l.c)((function(e){return Object(d.a)({},e)})).user,t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(!1),v=Object(i.a)(s,2),N=v[0],y=v[1],w=Object(n.useState)([]),k=Object(i.a)(w,2),S=k[0],_=k[1],C=Object(n.useState)(""),x=Object(i.a)(C,2),M=x[0],D=x[1],I=Object(n.useState)([]),J=Object(i.a)(I,2),L=J[0],P=J[1],K=Object(n.useState)(""),R=Object(i.a)(K,2),T=R[0],q=R[1];Object(n.useEffect)((function(){z(),A()}),[]);var z=function(){return Object(f.b)().then((function(e){return _(e.data)}))},A=function(){return Object(E.c)().then((function(e){return P(e.data)}))},B=function(){var t=Object(m.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.confirm("Delete?")&&(y(!0),Object(E.d)(a,e.token).then((function(e){y(!1),b.b.error("".concat(e.data.name," deleted")),A()})).catch((function(e){400===e.response.status&&(y(!1),b.b.error(e.response.data))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},N?c.a.createElement("h4",{className:"text-danger"},"Loading.."):c.a.createElement("h4",null,"Create sub category"),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Parent category"),c.a.createElement("select",{name:"category",className:"form-control",onChange:function(e){return D(e.target.value)}},c.a.createElement("option",null,"Please select"),S.length>0&&S.map((function(e){return c.a.createElement("option",{key:e._id,value:e._id},e.name)})))),c.a.createElement(O.a,{handleSubmit:function(t){t.preventDefault(),y(!0),Object(E.a)({name:r,parent:M},e.token).then((function(e){y(!1),o(""),b.b.success('"'.concat(e.data.name,'" is created')),A()})).catch((function(e){console.log(e),y(!1),400===e.response.status&&b.b.error(e.response.data)}))},name:r,setName:o}),c.a.createElement(g.a,{keyword:T,setKeyword:q}),L.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(T)).map((function(e){return c.a.createElement("div",{className:"alert alert-secondary",key:e._id},e.name,c.a.createElement("span",{onClick:function(){return B(e.slug)},className:"btn btn-sm float-right"},c.a.createElement(j.a,{className:"text-danger"})),c.a.createElement(h.b,{to:"/admin/sub/".concat(e.slug)},c.a.createElement("span",{className:"btn btn-sm float-right"},c.a.createElement(p.a,{className:"text-warning"}))))})))))},N=a(18);t.default=function(){var e=Object(l.c)((function(e){return e.ThemeReducer})),t=Object(l.b)();return Object(n.useEffect)((function(){var e=localStorage.getItem("themeMode","theme-mode-light"),a=localStorage.getItem("colorMode","theme-mode-light");t(N.a.setMode(e)),t(N.a.setColor(a))}),[t]),c.a.createElement("div",{className:"layout ".concat(e.mode," ").concat(e.color)},c.a.createElement(r.a,null),c.a.createElement("div",{className:"layout__content"},c.a.createElement(o.a,null),c.a.createElement("div",{className:"layout__content-main"},c.a.createElement(v,null))))}}}]);
//# sourceMappingURL=30.b33996a5.chunk.js.map