{"version":3,"sources":["components/routes/AdminRoute.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","components/routes/LoadingToRedirect.js"],"names":["AdminRoute","children","rest","user","useSelector","state","useState","ok","setOk","useEffect","token","currentAdmin","then","res","console","log","catch","err","_objectWithoutProperties","source","excluded","key","i","target","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","LoadingToRedirect","count","setCount","history","useHistory","interval","setInterval","currentCount","push","clearInterval","className"],"mappings":"yLA2BeA,UArBI,SAAC,GAA0B,EAAxBC,SAAyB,IAAZC,EAAW,4BACpCC,EAASC,aAAY,SAACC,GAAD,sBAAiBA,MAAtCF,KADoC,EAExBG,oBAAS,GAFe,mBAErCC,EAFqC,KAEjCC,EAFiC,KAkB5C,OAdAC,qBAAU,WACJN,GAAQA,EAAKO,OACfC,YAAaR,EAAKO,OACfE,MAAK,SAACC,GACLC,QAAQC,IAAI,oBAAqBF,GACjCL,GAAM,MAEPQ,OAAM,SAACC,GACNH,QAAQC,IAAI,kBAAmBE,GAC/BT,GAAM,QAGX,CAACL,IAEGI,EAAK,kBAAC,IAAUL,GAAW,kBAAC,IAAD,Q,iCCxBpC,8CACe,SAASgB,EAAyBC,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIE,EAAKC,EADLC,EAAS,YAA6BJ,EAAQC,GAGlD,GAAII,OAAOC,sBAAuB,CAChC,IAAIC,EAAmBF,OAAOC,sBAAsBN,GAEpD,IAAKG,EAAI,EAAGA,EAAII,EAAiBC,OAAQL,IACvCD,EAAMK,EAAiBJ,GACnBF,EAASQ,QAAQP,IAAQ,GACxBG,OAAOK,UAAUC,qBAAqBC,KAAKZ,EAAQE,KACxDE,EAAOF,GAAOF,EAAOE,IAIzB,OAAOE,I,oECOMS,IArBW,WAAO,IAAD,EACJ1B,mBAAS,GADL,mBACvB2B,EADuB,KAChBC,EADgB,KAE1BC,EAAUC,cAYd,OAVA3B,qBAAU,WACR,IAAM4B,EAAWC,aAAY,WAC3BJ,GAAS,SAACK,GAAD,QAAoBA,OAC5B,KAIH,OAFU,IAAVN,GAAeE,EAAQK,KAAK,KAErB,kBAAMC,cAAcJ,MAC1B,CAACJ,EAAOE,IAGT,yBAAKO,UAAU,6BACb,iDAAuBT,EAAvB","file":"static/js/21.f1f215a6.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport LoadingToRedirect from \"./LoadingToRedirect\";\nimport { currentAdmin } from \"../../functions/auth\";\n\nconst AdminRoute = ({ children, ...rest }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const [ok, setOk] = useState(false);\n\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token)\n        .then((res) => {\n          console.log(\"CURRENT ADMIN RES\", res);\n          setOk(true);\n        })\n        .catch((err) => {\n          console.log(\"ADMIN ROUTE ERR\", err);\n          setOk(false);\n        });\n    }\n  }, [user]);\n\n  return ok ? <Route {...rest} /> : <LoadingToRedirect />;\n};\n\nexport default AdminRoute;\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst LoadingToRedirect = () => {\n  const [count, setCount] = useState(5);\n  let history = useHistory();\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCount((currentCount) => --currentCount);\n    }, 1000);\n    // redirect once count is equal to 0\n    count === 0 && history.push(\"/\");\n    // cleanup\n    return () => clearInterval(interval);\n  }, [count, history]);\n\n  return (\n    <div className=\"container p-5 text-center\">\n      <p>Redirecting you in {count} seconds</p>\n    </div>\n  );\n};\n\nexport default LoadingToRedirect;\n"],"sourceRoot":""}