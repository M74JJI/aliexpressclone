(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{1100:function(e,t,a){},1101:function(e,t,a){},1146:function(e,t,a){"use strict";a.r(t);var n=a(12),c=a(5),r=a(1),l=a.n(r),s=a(10),o=a(16),u=a(2),i=a(52),m=a(74),d=a(32),p=(a(999),a(1099),a(1100),a(8)),E=a.n(p),b=a(15),h=(a(1101),a(14)),O=a.n(h);a(109).a.Option;var v=function(e){e.showShipping;var t=e.setShowShipping,a=Object(r.useState)(!1),u=Object(c.a)(a,2),d=(u[0],u[1]),p=Object(r.useState)([]),h=Object(c.a)(p,2),v=h[0],f=h[1],g=Object(r.useState)(!1),j=Object(c.a)(g,2),N=(j[0],j[1],Object(r.useState)("")),S=Object(c.a)(N,2),y=S[0],C=S[1],k=Object(r.useState)(""),w=Object(c.a)(k,2),A=w[0],x=w[1],P=Object(r.useState)(""),U=Object(c.a)(P,2),D=U[0],T=U[1],I=Object(r.useState)(""),R=Object(c.a)(I,2),_=R[0],J=R[1],$=Object(r.useState)(""),B=Object(c.a)($,2),L=B[0],q=B[1],z=Object(r.useState)(""),M=Object(c.a)(z,2),F=M[0],G=M[1],H=Object(r.useState)(""),Z=Object(c.a)(H,2),K=Z[0],Q=Z[1],V=Object(r.useState)(""),W=Object(c.a)(V,2),X=W[0],Y=W[1],ee=Object(r.useState)([]),te=Object(c.a)(ee,2),ae=(te[0],te[1]),ne=Object(r.useState)(0),ce=Object(c.a)(ne,2),re=(ce[0],ce[1]),le=(Object(s.b)(),Object(s.c)((function(e){return Object(n.a)({},e)})).user),se={name:y,phoneNumber:A,address1:D,address2:_,country:L,state:F,zipCode:K,city:X};Object(r.useEffect)((function(){Object(i.g)(le.token).then((function(e){ae(e.data.products),re(e.data.cartTotal)}))})),Object(r.useEffect)((function(){oe(),console.log(v)}),[]);var oe=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("http://restcountries.eu/rest/v2/all").then((function(e){return f(e.data)}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"shippingmodal"},l.a.createElement(m.b,{className:"close-modal",onClick:function(){return t(!1)}}),l.a.createElement("div",{className:"shippingmodal-title"},"Update address"),l.a.createElement("div",{className:"shippingmodal-contact-title"},"Contact"),l.a.createElement("div",{className:"shippingmodal-contact"},l.a.createElement("input",{type:"text",value:y,onChange:function(e){return C(e.target.value)},placeholder:"Name"}),l.a.createElement("input",{type:"text",value:A,onChange:function(e){return x(e.target.value)},placeholder:"Phone Number"})),l.a.createElement("div",{className:"shippingmodal-contact-title"},"Address"),l.a.createElement("div",{className:"shippingmodal-contact"},l.a.createElement("input",{type:"text",value:D,onChange:function(e){return T(e.target.value)},placeholder:"Street,house/apartement/unit"}),l.a.createElement("input",{type:"text",value:_,onChange:function(e){return J(e.target.value)},placeholder:"Apt, Suite, Unit, etc. (Optional)\r "})),l.a.createElement("div",{className:"shippingmodal-forinputs"},l.a.createElement("select",{value:L,onChange:function(e){return q(e.target.value)}},v.map((function(e){return l.a.createElement("option",{value:e.name},e.name)}))),l.a.createElement("input",{type:"text",value:F,onChange:function(e){return G(e.target.value)},placeholder:"State/Province/Region\r "}),l.a.createElement("input",{type:"text",value:X,onChange:function(e){return Y(e.target.value)},placeholder:"City\r "}),l.a.createElement("input",{type:"text",value:K,onChange:function(e){return Q(e.target.value)},placeholder:"Zip Code\r "})),l.a.createElement("button",{className:"address-btn",onClick:function(){Object(i.k)(le.token,se).then((function(e){e.data.ok&&(d(!0),t(!1),o.b.success("address saved successfully"))}))}},"Save and Continues"))};t.default=function(e){var t=e.history,a=Object(r.useState)([]),o=Object(c.a)(a,2),p=(o[0],o[1]),E=Object(r.useState)(0),b=Object(c.a)(E,2),h=b[0],O=b[1],f=Object(r.useState)({}),g=Object(c.a)(f,2),j=g[0],N=g[1],S=Object(r.useState)([]),y=Object(c.a)(S,2),C=(y[0],y[1],Object(r.useState)(!1)),k=Object(c.a)(C,2),w=(k[0],k[1],Object(r.useState)("")),A=Object(c.a)(w,2),x=A[0],P=A[1],U=Object(r.useState)(!1),D=Object(c.a)(U,2),T=D[0],I=D[1],R=Object(r.useState)(0),_=Object(c.a)(R,2),J=_[0],$=_[1],B=Object(r.useState)(""),L=Object(c.a)(B,2),q=(L[0],L[1]),z=Object(s.b)(),M=Object(s.c)((function(e){return Object(n.a)({},e)})),F=M.user,G=M.COD,H=M.cart,Z=Object(s.c)((function(e){return e.coupon}));Object(r.useEffect)((function(){Object(i.g)(F.token).then((function(e){p(e.data.products),O(e.data.cartTotal),N(e.data.orderdBy.address)}))}),[h,j]);return l.a.createElement("div",{className:"checkout"},T&&l.a.createElement(v,{showShipping:T,setShowShipping:I}),l.a.createElement("div",{className:"checkout-header"},l.a.createElement(u.b,{className:"checkout-logo"})),l.a.createElement("div",{className:"checkout-container"},l.a.createElement("div",{className:"chekout-left"},l.a.createElement("div",{className:"chekout-shipping"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Shipping Information")),j?l.a.createElement("div",{className:"address-container"},l.a.createElement("div",{className:"address-checkout"},l.a.createElement("strong",null,j.name,", \xa0"," ",j.phoneNumber),l.a.createElement("span",null,j.address1),l.a.createElement("span",null,j.address2),l.a.createElement("span",null,j.state,",",j.city,",",j.country,",",j.zipCode)),l.a.createElement("div",{className:"add-address"},l.a.createElement(u.b,{onClick:function(){return I(!0)}},"+ Add new address"))):l.a.createElement(u.b,{onClick:function(){return I(!0)}},"+ Add new address")),l.a.createElement("div",{className:"checkout-method"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Payment Method")),l.a.createElement("span",null,"Credit Card")),l.a.createElement("div",{className:"checkout-products"},H.length?H.map((function(e){return l.a.createElement("div",{className:"checkout-cart-item"},l.a.createElement("div",{className:"checkout-cart-product"},l.a.createElement("img",{src:e.images[0].url,alt:""}),l.a.createElement("div",{className:"cart-product-infos"},l.a.createElement("div",{className:"cart-product-title"},e.title),l.a.createElement("div",{className:"cart-product-color"},l.a.createElement("span",null,"Color : "),l.a.createElement("span",null,"red")),l.a.createElement("p",null,e.title.substring(0,10),"... x ",e.qty," = $",e.price*e.qty),l.a.createElement("div",{className:"cart-product-price"},"US $",e.price),l.a.createElement("div",{className:"cart-product-discount"},l.a.createElement("span",null,"US $",e.priceBefore),l.a.createElement("span",null,"New User BONUS")),l.a.createElement("div",{className:"cart-product-shipping"},l.a.createElement("span",{class:"shippingfreeotNot "},"Free Shipping"),l.a.createElement("span",null,"via Cainiao Super Economy Global Estimated delivery on Nov 10"),l.a.createElement(m.a,{style:{marginTop:"3px"}}))),l.a.createElement("div",{className:"cart-product-operations"},l.a.createElement("div",{className:"cart-wishlist-delete"},l.a.createElement(d.f,null),l.a.createElement(d.e,{onClick:function(){return function(e){var t=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(a,n){a._id===e._id&&t.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(t)),z({type:"ADD_TO_CART",payload:t}))}(e)}})))))})):l.a.createElement("p",null,"No products in cart."))),l.a.createElement("div",{className:"chekout-right"}," ",l.a.createElement("div",{className:"chekout-summary"},l.a.createElement("h2",null,"Order Summary"),l.a.createElement("div",{className:"coupon-select"}),l.a.createElement("div",{className:"coupon-select"}),l.a.createElement("span",{style:{paddingLeft:"1rem"}},"Promo Code"),l.a.createElement("div",{className:"coupon-input"},l.a.createElement("input",{type:"text",onChange:function(e){P(e.target.value),q("")},value:x}),l.a.createElement("button",{onClick:function(){Object(i.b)(F.token,x).then((function(e){e.data&&($(e.data),z({type:"COUPON_APPLIED",payload:!0})),e.data.err&&q(e.data.err)}))}},"Apply")),l.a.createElement("hr",null),l.a.createElement("div",{className:"total"},l.a.createElement("strong",null,"Total"),l.a.createElement("div",{className:"total-price"},l.a.createElement("h4",null,"US $",h),l.a.createElement("span",null,"Approximately MAD 13dh"))),J>0&&l.a.createElement("div",{className:"coupon-applied"},"Coupon Applied :"," ",l.a.createElement("strong",null,"-US",J)),G?l.a.createElement("button",{className:"placeOrder-btn",onClick:function(){Object(i.c)(F.token,G,Z).then((function(e){console.log("USER CASH ORDER CREATED RES ",e),e.data.ok&&("undefined"!==typeof window&&localStorage.removeItem("cart"),z({type:"ADD_TO_CART",payload:[]}),z({type:"COUPON_APPLIED",payload:!1}),z({type:"COD",payload:!1}),Object(i.e)(F.token),setTimeout((function(){t.push("/user/orders")}),1e3))}))}},"Place Order"):l.a.createElement("button",{className:"placeOrder-btn",onClick:function(){return t.push("/payment")}},"Place Order")),l.a.createElement("p",null,'Upon clicking "Place Order", I confirm I have read and acknowledge all'," "))))}}}]);
//# sourceMappingURL=17.d291c43f.chunk.js.map